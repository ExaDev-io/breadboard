{
  "title": "Hacker News Algolia Simplified Comment Search",
  "version": "0.0.1",
  "edges": [
    {
      "from": "input-40",
      "to": "invoke-41",
      "out": "query",
      "in": "query"
    },
    {
      "from": "invoke-41",
      "to": "output-42",
      "out": "output",
      "in": "output"
    }
  ],
  "nodes": [
    {
      "id": "input-40",
      "type": "input",
      "configuration": {
        "schema": {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "title": "Query",
              "description": "The term to search for",
              "default": "Artificial Intelligence",
              "examples": [
                "Artificial Intelligence",
                "Machine Learning",
                "Deep Learning"
              ]
            }
          }
        }
      },
      "metadata": {
        "title": "Input"
      }
    },
    {
      "id": "output-42",
      "type": "output",
      "configuration": {
        "schema": {
          "type": "object",
          "properties": {
            "output": {
              "type": "string",
              "title": "output"
            }
          }
        }
      },
      "metadata": {
        "title": "Output"
      }
    },
    {
      "id": "invoke-41",
      "type": "invoke",
      "configuration": {
        "$board": {
          "title": "Hacker News Angolia Search",
          "description": "Board which returns API results based on a query using the Hacker News Angolia API",
          "version": "0.0.1",
          "edges": [
            {
              "from": "query",
              "to": "urlTemplate",
              "out": "query",
              "in": "query"
            },
            {
              "from": "query",
              "to": "urlTemplate",
              "out": "page",
              "in": "page"
            },
            {
              "from": "query",
              "to": "urlTemplate",
              "out": "tags",
              "in": "tags"
            },
            {
              "from": "query",
              "to": "fn-38",
              "out": "limit",
              "in": "limit"
            },
            {
              "from": "urlTemplate",
              "to": "fetch",
              "out": "url",
              "in": "url"
            },
            {
              "from": "urlTemplate",
              "to": "output-39",
              "out": "url",
              "in": "url"
            },
            {
              "from": "fn-38",
              "to": "output-39",
              "out": "output",
              "in": "output"
            },
            {
              "from": "fetch",
              "to": "spreadResponse",
              "out": "response",
              "in": "object"
            },
            {
              "from": "spreadResponse",
              "to": "fn-38",
              "out": "hits",
              "in": "list"
            }
          ],
          "nodes": [
            {
              "id": "query",
              "type": "input",
              "configuration": {
                "schema": {
                  "title": "Hacker News Algolia Search Parameters",
                  "type": "object",
                  "properties": {
                    "query": {
                      "type": "string",
                      "title": "Query",
                      "description": "The term to search for",
                      "default": "Artificial Intelligence",
                      "examples": [
                        "Artificial Intelligence",
                        "Machine Learning",
                        "Deep Learning"
                      ]
                    },
                    "limit": {
                      "type": "number",
                      "title": "limit",
                      "default": "5",
                      "description": "Limit the number of results returned by the search"
                    },
                    "tags": {
                      "type": "string",
                      "title": "Tags",
                      "description": "Filter on a specific tag",
                      "enum": [
                        "story",
                        "comment",
                        "poll",
                        "pollopt",
                        "show_hn",
                        "ask_hn",
                        "front_page"
                      ]
                    },
                    "page": {
                      "type": "number",
                      "title": "Page",
                      "default": "1",
                      "description": "The page number of the search results to return"
                    }
                  }
                }
              }
            },
            {
              "id": "urlTemplate",
              "type": "urlTemplate",
              "configuration": {
                "template": "https://hn.algolia.com/api/v1/search?query={query}&tags={tags}&page={page}"
              }
            },
            {
              "id": "fn-38",
              "type": "runJavascript",
              "configuration": {
                "code": "const fn_38 = ({list,limit})=>{return{output:list.slice(0,limit)}};",
                "name": "fn_38",
                "raw": true
              }
            },
            {
              "id": "fetch",
              "type": "fetch",
              "configuration": {
                "method": "GET"
              }
            },
            {
              "id": "output-39",
              "type": "output",
              "configuration": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "output": {
                      "title": "Hacker News Search Results",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "_highlightResult": {
                            "type": "object",
                            "properties": {
                              "author": {
                                "type": "object",
                                "properties": {
                                  "matchLevel": {
                                    "type": "string"
                                  },
                                  "matchedWords": {
                                    "type": "array",
                                    "items": {}
                                  },
                                  "value": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "matchLevel",
                                  "matchedWords",
                                  "value"
                                ]
                              },
                              "title": {
                                "type": "object",
                                "properties": {
                                  "fullyHighlighted": {
                                    "type": "boolean"
                                  },
                                  "matchLevel": {
                                    "type": "string"
                                  },
                                  "matchedWords": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "value": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "fullyHighlighted",
                                  "matchLevel",
                                  "matchedWords",
                                  "value"
                                ]
                              },
                              "url": {
                                "type": "object",
                                "properties": {
                                  "fullyHighlighted": {
                                    "type": "boolean"
                                  },
                                  "matchLevel": {
                                    "type": "string"
                                  },
                                  "matchedWords": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "value": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "fullyHighlighted",
                                  "matchLevel",
                                  "matchedWords",
                                  "value"
                                ]
                              }
                            },
                            "required": [
                              "author",
                              "title",
                              "url"
                            ]
                          },
                          "_tags": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "author": {
                            "type": "string"
                          },
                          "children": {
                            "type": "array",
                            "items": {
                              "type": "number"
                            }
                          },
                          "created_at": {
                            "type": "string"
                          },
                          "created_at_i": {
                            "type": "number"
                          },
                          "num_comments": {
                            "type": "number"
                          },
                          "objectID": {
                            "type": "string"
                          },
                          "points": {
                            "type": "number"
                          },
                          "story_id": {
                            "type": "number"
                          },
                          "title": {
                            "type": "string"
                          },
                          "updated_at": {
                            "type": "string"
                          },
                          "url": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "_highlightResult",
                          "_tags",
                          "author",
                          "children",
                          "created_at",
                          "created_at_i",
                          "num_comments",
                          "objectID",
                          "points",
                          "story_id",
                          "title",
                          "updated_at",
                          "url"
                        ]
                      }
                    }
                  }
                }
              },
              "metadata": {
                "title": "Output"
              }
            },
            {
              "id": "spreadResponse",
              "type": "runJavascript",
              "configuration": {
                "code": "const spreadResponse = inputs=>{const object=inputs.object;if(typeof object!==\"object\"){throw new Error(`object is of type ${typeof object} not object`)}return{...object}};",
                "name": "spreadResponse",
                "raw": true
              }
            }
          ],
          "graphs": {}
        },
        "tags": "comment"
      },
      "metadata": {
        "title": "Invoke Full Search"
      }
    }
  ]
}