{
  "title": "Hacker News Simplified Algolia Search",
  "version": "0.0.1",
  "edges": [
    {
      "from": "input-36",
      "to": "invoke-37",
      "out": "query",
      "in": "query"
    },
    {
      "from": "input-36",
      "to": "invoke-37",
      "out": "tags",
      "in": "tags"
    },
    {
      "from": "invoke-37",
      "to": "output-38",
      "out": "*",
      "in": ""
    }
  ],
  "nodes": [
    {
      "id": "input-36",
      "type": "input",
      "configuration": {
        "schema": {
          "type": "object",
          "properties": {
            "query": {
              "type": "string",
              "title": "Query",
              "default": "Artificial Intelligence",
              "examples": [
                "Artificial Intelligence",
                "Machine Learning",
                "Deep Learning"
              ]
            },
            "tags": {
              "type": "string",
              "title": "Tags",
              "enum": [
                "story",
                "comment",
                "poll",
                "pollopt",
                "show_hn",
                "ask_hn",
                "front_page"
              ]
            }
          }
        }
      },
      "metadata": {
        "title": "Input"
      }
    },
    {
      "id": "output-38",
      "type": "output",
      "configuration": {
        "schema": {
          "type": "object",
          "properties": {
            "output": {
              "type": "array",
              "title": "Hacker News Search Results",
              "items": {
                "type": "object",
                "properties": {
                  "_highlightResult": {
                    "type": "object",
                    "properties": {
                      "author": {
                        "type": "object",
                        "properties": {
                          "matchLevel": {
                            "type": "string"
                          },
                          "matchedWords": {
                            "type": "array",
                            "items": {}
                          },
                          "value": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "matchLevel",
                          "matchedWords",
                          "value"
                        ]
                      },
                      "title": {
                        "type": "object",
                        "properties": {
                          "fullyHighlighted": {
                            "type": "boolean"
                          },
                          "matchLevel": {
                            "type": "string"
                          },
                          "matchedWords": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "value": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "fullyHighlighted",
                          "matchLevel",
                          "matchedWords",
                          "value"
                        ]
                      },
                      "url": {
                        "type": "object",
                        "properties": {
                          "fullyHighlighted": {
                            "type": "boolean"
                          },
                          "matchLevel": {
                            "type": "string"
                          },
                          "matchedWords": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "value": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "fullyHighlighted",
                          "matchLevel",
                          "matchedWords",
                          "value"
                        ]
                      }
                    },
                    "required": [
                      "author",
                      "title",
                      "url"
                    ]
                  },
                  "_tags": {
                    "type": "array",
                    "items": {
                      "type": "string"
                    }
                  },
                  "author": {
                    "type": "string"
                  },
                  "children": {
                    "type": "array",
                    "items": {
                      "type": "number"
                    }
                  },
                  "created_at": {
                    "type": "string"
                  },
                  "created_at_i": {
                    "type": "number"
                  },
                  "num_comments": {
                    "type": "number"
                  },
                  "objectID": {
                    "type": "string"
                  },
                  "points": {
                    "type": "number"
                  },
                  "story_id": {
                    "type": "number"
                  },
                  "title": {
                    "type": "string"
                  },
                  "updated_at": {
                    "type": "string"
                  },
                  "url": {
                    "type": "string"
                  }
                },
                "required": [
                  "_highlightResult",
                  "_tags",
                  "author",
                  "children",
                  "created_at",
                  "created_at_i",
                  "num_comments",
                  "objectID",
                  "points",
                  "story_id",
                  "title",
                  "updated_at",
                  "url"
                ]
              }
            }
          }
        }
      },
      "metadata": {
        "title": "Output"
      }
    },
    {
      "id": "invoke-37",
      "type": "invoke",
      "configuration": {
        "$board": {
          "title": "Hacker News Angolia Search",
          "description": "Board which returns API results based on a query using the Hacker News Angolia API",
          "version": "0.0.1",
          "edges": [
            {
              "from": "query",
              "to": "urlTemplate",
              "out": "query",
              "in": "query"
            },
            {
              "from": "query",
              "to": "urlTemplate",
              "out": "page",
              "in": "page"
            },
            {
              "from": "query",
              "to": "urlTemplate",
              "out": "tags",
              "in": "tags"
            },
            {
              "from": "query",
              "to": "fn-34",
              "out": "limit",
              "in": "limit"
            },
            {
              "from": "urlTemplate",
              "to": "fetch",
              "out": "url",
              "in": "url"
            },
            {
              "from": "urlTemplate",
              "to": "output-35",
              "out": "url",
              "in": "url"
            },
            {
              "from": "fn-34",
              "to": "output-35",
              "out": "output",
              "in": "output"
            },
            {
              "from": "fetch",
              "to": "spreadResponse",
              "out": "response",
              "in": "object"
            },
            {
              "from": "spreadResponse",
              "to": "fn-34",
              "out": "hits",
              "in": "list"
            }
          ],
          "nodes": [
            {
              "id": "query",
              "type": "input",
              "configuration": {
                "schema": {
                  "title": "Algolia Limit",
                  "properties": {
                    "query": {
                      "type": "string",
                      "title": "query",
                      "default": "JavaScript",
                      "description": "The query"
                    },
                    "limit": {
                      "type": "number",
                      "title": "limit",
                      "default": "1",
                      "description": "The limit"
                    },
                    "tags": {
                      "type": "string",
                      "title": "tags",
                      "default": "JavaScript",
                      "description": "The tags"
                    },
                    "page": {
                      "type": "string",
                      "title": "page",
                      "default": "1",
                      "description": "the page"
                    }
                  }
                },
                "type": "string"
              }
            },
            {
              "id": "urlTemplate",
              "type": "urlTemplate",
              "configuration": {
                "template": "https://hn.algolia.com/api/v1/search?query={query}&tags={tags}&page={page}"
              }
            },
            {
              "id": "fn-34",
              "type": "runJavascript",
              "configuration": {
                "code": "const fn_34 = ({list,limit})=>{return{output:list.slice(0,limit)}};",
                "name": "fn_34",
                "raw": true
              }
            },
            {
              "id": "fetch",
              "type": "fetch",
              "configuration": {
                "method": "GET"
              }
            },
            {
              "id": "output-35",
              "type": "output",
              "configuration": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "output": {
                      "title": "Hacker News Search Results",
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "_highlightResult": {
                            "type": "object",
                            "properties": {
                              "author": {
                                "type": "object",
                                "properties": {
                                  "matchLevel": {
                                    "type": "string"
                                  },
                                  "matchedWords": {
                                    "type": "array",
                                    "items": {}
                                  },
                                  "value": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "matchLevel",
                                  "matchedWords",
                                  "value"
                                ]
                              },
                              "title": {
                                "type": "object",
                                "properties": {
                                  "fullyHighlighted": {
                                    "type": "boolean"
                                  },
                                  "matchLevel": {
                                    "type": "string"
                                  },
                                  "matchedWords": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "value": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "fullyHighlighted",
                                  "matchLevel",
                                  "matchedWords",
                                  "value"
                                ]
                              },
                              "url": {
                                "type": "object",
                                "properties": {
                                  "fullyHighlighted": {
                                    "type": "boolean"
                                  },
                                  "matchLevel": {
                                    "type": "string"
                                  },
                                  "matchedWords": {
                                    "type": "array",
                                    "items": {
                                      "type": "string"
                                    }
                                  },
                                  "value": {
                                    "type": "string"
                                  }
                                },
                                "required": [
                                  "fullyHighlighted",
                                  "matchLevel",
                                  "matchedWords",
                                  "value"
                                ]
                              }
                            },
                            "required": [
                              "author",
                              "title",
                              "url"
                            ]
                          },
                          "_tags": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          },
                          "author": {
                            "type": "string"
                          },
                          "children": {
                            "type": "array",
                            "items": {
                              "type": "number"
                            }
                          },
                          "created_at": {
                            "type": "string"
                          },
                          "created_at_i": {
                            "type": "number"
                          },
                          "num_comments": {
                            "type": "number"
                          },
                          "objectID": {
                            "type": "string"
                          },
                          "points": {
                            "type": "number"
                          },
                          "story_id": {
                            "type": "number"
                          },
                          "title": {
                            "type": "string"
                          },
                          "updated_at": {
                            "type": "string"
                          },
                          "url": {
                            "type": "string"
                          }
                        },
                        "required": [
                          "_highlightResult",
                          "_tags",
                          "author",
                          "children",
                          "created_at",
                          "created_at_i",
                          "num_comments",
                          "objectID",
                          "points",
                          "story_id",
                          "title",
                          "updated_at",
                          "url"
                        ]
                      }
                    }
                  }
                }
              },
              "metadata": {
                "title": "Output"
              }
            },
            {
              "id": "spreadResponse",
              "type": "runJavascript",
              "configuration": {
                "code": "const spreadResponse = inputs=>{const object=inputs.object;if(typeof object!==\"object\"){throw new Error(`object is of type ${typeof object} not object`)}return{...object}};",
                "name": "spreadResponse",
                "raw": true
              }
            }
          ],
          "graphs": {}
        }
      },
      "metadata": {
        "title": "Invoke Full Search"
      }
    }
  ]
}