{
  "title": "WRAPPED TEST",
  "description": "Board which returns API results based on a query using the Hacker News Angolia API",
  "version": "0.0.1",
  "edges": [
    {
      "from": "fn-3",
      "to": "output-2",
      "out": "output",
      "in": "output"
    }
  ],
  "nodes": [
    {
      "id": "output-2",
      "type": "output",
      "configuration": {
        "schema": {
          "type": "object",
          "properties": {
            "output": {
              "type": "string",
              "title": "output"
            }
          }
        }
      }
    },
    {
      "id": "fn-3",
      "type": "runJavascript",
      "configuration": {
        "code": "const fn_3 = async inputs=>{const{graph}=inputs;const runner=await BoardRunner.fromGraphDescriptor(graph);for await(const stop of runner.run()){if(stop.type===\"input\"){stop.inputs={query:\"Docker\",tags:\"story\"}}else if(stop.type===\"output\"){return{output:stop.outputs}}}};",
        "description": "Board which returns API results based on a query using the Hacker News Angolia API",
        "edges": [
          {
            "from": "urlTemplate",
            "to": "fetch",
            "out": "url",
            "in": "url"
          },
          {
            "from": "urlTemplate",
            "to": "output-2",
            "out": "url",
            "in": "url"
          },
          {
            "from": "fn-4",
            "to": "output-2",
            "out": "output",
            "in": "output"
          },
          {
            "from": "query",
            "to": "urlTemplate",
            "out": "query",
            "in": "query"
          },
          {
            "from": "query",
            "to": "urlTemplate",
            "out": "tags",
            "in": "tags"
          },
          {
            "from": "fetch",
            "to": "spreadResponse",
            "out": "response",
            "in": "object"
          },
          {
            "from": "fn-3",
            "to": "fn-4",
            "out": "output",
            "in": "list"
          },
          {
            "from": "spreadResponse",
            "to": "fn-3",
            "out": "hits",
            "in": "list"
          }
        ],
        "graphs": {},
        "name": "fn_3",
        "nodes": [
          {
            "id": "output-2",
            "type": "output",
            "configuration": {
              "schema": {
                "type": "object",
                "properties": {
                  "url": {
                    "type": "string",
                    "title": "url",
                    "description": "The resulting URL that was produced by filling in the placeholders in the template"
                  },
                  "output": {
                    "type": "string",
                    "title": "output"
                  }
                }
              }
            }
          },
          {
            "id": "urlTemplate",
            "type": "urlTemplate",
            "configuration": {
              "template": "https://hn.algolia.com/api/v1/search?query={query}&tags={tags}&page={page}",
              "page": 1
            }
          },
          {
            "id": "fn-4",
            "type": "runJavascript",
            "configuration": {
              "limit": 10,
              "code": "const fn_4 = ({list,limit})=>{return{output:list.slice(0,limit)}};",
              "name": "fn_4",
              "raw": true
            }
          },
          {
            "id": "query",
            "type": "input",
            "configuration": {
              "schema": {
                "title": "Algolia Limit",
                "properties": {
                  "query": {
                    "type": "string",
                    "title": "query",
                    "default": "JavaScript",
                    "description": "The query"
                  },
                  "limit": {
                    "type": "number",
                    "title": "limit",
                    "default": "1",
                    "description": "The limit"
                  },
                  "tags": {
                    "type": "string",
                    "title": "tags",
                    "default": "JavaScript",
                    "description": "The tags"
                  }
                }
              },
              "type": "string"
            }
          },
          {
            "id": "fetch",
            "type": "fetch",
            "configuration": {
              "method": "GET"
            }
          },
          {
            "id": "fn-3",
            "type": "runJavascript",
            "configuration": {
              "code": "const fn_3 = ({list})=>{list.forEach(item=>{delete item[\"children\"];delete item[\"_highlightResult\"];delete item[\"_tags\"];delete item[\"points\"];delete item[\"num_comments\"];delete item[\"objectID\"];delete item[\"updated_at\"]});return{output:list}};",
              "name": "fn_3",
              "raw": true
            }
          },
          {
            "id": "spreadResponse",
            "type": "runJavascript",
            "configuration": {
              "code": "const spreadResponse = inputs=>{const object=inputs.object;if(typeof object!==\"object\"){throw new Error(`object is of type ${typeof object} not object`)}return{...object}};",
              "name": "spreadResponse",
              "raw": true
            }
          }
        ],
        "raw": true,
        "title": "Simplified Hacker News Angolia search ",
        "version": "0.0.1"
      }
    }
  ]
}